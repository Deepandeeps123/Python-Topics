"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["gist"],{92682:(e,t,n)=>{n(75544),n(45732),n(46640);var i=n(38147),r=n(52915),o=n(21403),s=n(97797),l=n(21232);function a(e){let t=e.querySelector(".js-gist-files"),n=document.getElementById("js-gist-file-template").content.cloneNode(!0);t.appendChild(n);let i=t.lastElementChild;for(let e of i.querySelectorAll("[id]"))"blob-dragged-file-input"!==e.id&&(e.id.startsWith("remove_gist_file")||e.removeAttribute("id"));let r=crypto.randomUUID(),o=`remove_gist_file_${r}`,s=`remove_gist_file_tooltip_${r}`,l=i.querySelector(".js-remove-gist-file"),a=i.querySelector("tool-tip");l&&a&&(l.setAttribute("id",o),a.setAttribute("for",o),a.setAttribute("id",s),l.setAttribute("aria-labelledby",s));let c=i.querySelector(".js-code-textarea");return null!==c&&c.setAttribute("id",`blob_contents_${Date.now()}`),i}function c(e){return(0,r.B)(e.closest(".js-code-editor"))}async function u(e){let t=e.getAttribute("data-language-detection-url");if(!t)return;let n=new URL(t,window.location.origin),i=new URLSearchParams(n.search.slice(1));i.append("filename",e.value),n.search=i.toString();let r=await fetch(n.toString(),{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!r.ok){let e=Error(),t=r.statusText?` ${r.statusText}`:"";throw e.message=`HTTP ${r.status}${t}`,e}let o=await r.json();(await c(e)).setMode(o.language)}function d(e){let t=e.querySelectorAll(".js-remove-gist-file");for(let e of t)e.classList.toggle("d-none",t.length<2)}(0,l.uE)(".js-gist-filename",async e=>{let t=e.closest(".js-code-editor");await c(t),(0,i.Up)(e,u),e.addEventListener("blur",()=>(0,i.NB)(e,u),{once:!0})}),(0,s.on)("click",".js-add-gist-file",function(e){e.preventDefault(),a(e.currentTarget.closest(".js-blob-form")).scrollIntoView()}),(0,s.on)("gist:filedrop",".js-blob-form",async function(e){let{file:t,data:n}=e.detail,i=function(e){for(let t of e.querySelectorAll(".js-gist-file")){let e=t.querySelector(".js-gist-filename"),n=t.querySelector(".js-blob-contents");if(!e.value&&!n.value)return t}return a(e)}(e.currentTarget),r=i.querySelector(".js-gist-filename");r.value=t.name,u(r),(await c(r)).setCode(n),i.scrollIntoView()}),(0,s.on)("click",".js-remove-gist-file",function(e){e.preventDefault();let t=e.currentTarget.closest(".js-gist-file");if(!t)return;for(let e of t.querySelectorAll(".js-gist-deleted input"))e.disabled=!1;let n=t.querySelector(".js-code-editor");n||(n=t.querySelector(".js-file")),n.remove()}),(0,o.lB)(".js-remove-gist-file",function(e){let t=e.closest(".js-gist-files");return{add(){d(t)},remove(){d(t)}}});var f=n(58578),g=n(78350),m=n(6440),_=n(2240);let p="gist-no-op",y=m.wA.createPolicy(p,{createHTML:e=>_.b.apply({policy:()=>e,policyName:p,fallback:e,sanitize:!0})});(0,l.uE)(".js-quicksearch-field",function(e){(0,f.VC)(e.form.querySelector(".js-quicksearch-results"))}),(0,l.eC)(".js-quicksearch-field",w),(0,s.on)("navigation:keydown",".js-quicksearch-results",function(e){let t=e.target,n=t.closest("form");if("Escape"===e.detail.hotkey){let e=n.querySelector(".js-quicksearch-results");e.classList.remove("active"),(0,f.IU)(e)}else"Enter"!==e.detail.hotkey||t.classList.contains("js-navigation-item")||((0,g.k_)(n),e.preventDefault())}),(0,s.on)("submit",".js-quicksearch-form",function(e){let t=e.currentTarget.querySelector(".js-quicksearch-results");t&&(t.classList.remove("active"),(0,f.uY)(t))}),(0,s.on)("focusout:delay",".js-quicksearch-field",function(e){let t=e.currentTarget.closest("form").querySelector(".js-quicksearch-results");t&&(t.classList.remove("active"),(0,f.uY)(t))});let h=null;async function w(e){let t=e.target,n=t.value.replace(/^\s+|\s+$/g,""),i=t.closest("form"),r=i.querySelector(".js-quicksearch-results"),o=r.getAttribute("data-quicksearch-url"),s="";h?.abort();let{signal:l}=h=new AbortController;if(n.length){let e=new URL(o,window.location.origin),t=new URLSearchParams(e.search.slice(1));t.append("q",n),e.search=t.toString(),i.classList.add("is-sending");try{let t=await fetch(e.toString(),{signal:l,headers:{"X-Requested-With":"XMLHttpRequest"}});t.ok&&(s=await t.text())}catch{}}l.aborted||(s&&(r.innerHTML=y.createHTML(s)),r.classList.toggle("active",""!==n),i.classList.remove("is-sending"))}(0,n(13937).JW)(".js-gist-file-update-container .js-comment-update",async function(e,t){let n;try{n=await t.json()}catch(e){return}e.action=n.json.url,n.json.authenticity_token&&(e.querySelector("input[name=authenticity_token]").value=n.json.authenticity_token)}),(0,o.lB)(".js-gist-comment-permalink",function(e){let t=e.getAttribute("data-href");e.textContent=`${window.location.origin}${t}`}),(0,o.lB)(".js-gist-dropzone",()=>{n.e("app_assets_modules_github_gist_drag-drop_ts").then(n.bind(n,9736))})},23149:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(5728),r=n(27260);let o=[],s=0;function l(e){!async function(){o.push(e),await i.G,function(){let e=s;s=o.length,a(o.slice(e),null,window.location.href)}()}()}function a(e,t,n){let i=window.location.hash.slice(1),r={oldURL:t,newURL:n,target:i?document.getElementById(i):null};for(let t of e)t.call(null,r)}l.clear=()=>{o.length=s=0};let c=window.location.href;window.addEventListener("popstate",function(){c=window.location.href}),window.addEventListener("hashchange",function(e){let t=window.location.href;try{a(o,e.oldURL||c,t)}finally{c=t}});let u=null;document.addEventListener(r.z.START,function(){u=window.location.href}),document.addEventListener(r.z.SUCCESS,function(){a(o,u,window.location.href)})},52915:(e,t,n)=>{n.d(t,{B:()=>s,j:()=>o});var i=n(97797);let r=new WeakMap;function o(e){return r.get(e)}async function s(e){var t;return r.get(e)||l(await (t="codeEditor:ready",new Promise(n=>{e.addEventListener(t,n,{once:!0})})))}function l(e){if(!(e instanceof CustomEvent))throw Error("assert: event is not a CustomEvent");let t=e.detail.editor;if(!e.target)throw Error("assert: event.target is null");return r.set(e.target,t),t}(0,i.on)("codeEditor:ready",".js-code-editor",l)},86356:(e,t,n)=>{function i(e,t=location.hash){return r(e,o(t))}function r(e,t){return""===t?null:e.getElementById(t)||e.getElementsByName(t)[0]}function o(e){try{return decodeURIComponent(e.slice(1))}catch{return""}}n.d(t,{gX:()=>o,rG:()=>i,w$:()=>r})},38147:(e,t,n)=>{n.d(t,{NB:()=>c,Up:()=>a,pk:()=>u});let i=new WeakMap;function r(e){let t=i.get(e);t&&(null!=t.timer&&clearTimeout(t.timer),t.timer=window.setTimeout(()=>{null!=t.timer&&(t.timer=null),t.inputed=!1,t.listener.call(null,e)},t.wait))}function o(e){let t=e.currentTarget,n=i.get(t);n&&(n.keypressed=!0,null!=n.timer&&clearTimeout(n.timer))}function s(e){let t=e.currentTarget,n=i.get(t);n&&(n.keypressed=!1,n.inputed&&r(t))}function l(e){let t=e.currentTarget,n=i.get(t);n&&(n.inputed=!0,n.keypressed||r(t))}function a(e,t,n={wait:null}){i.set(e,{keypressed:!1,inputed:!1,timer:void 0,listener:t,wait:null!=n.wait?n.wait:100}),e.addEventListener("keydown",o),e.addEventListener("keyup",s),e.addEventListener("input",l)}function c(e,t){e.removeEventListener("keydown",o),e.removeEventListener("keyup",s),e.removeEventListener("input",l);let n=i.get(e);n&&(null!=n.timer&&n.listener===t&&clearTimeout(n.timer),i.delete(e))}function u(e){let t=i.get(e);t&&t.listener.call(null,e)}},51848:(e,t,n)=>{let i;n.d(t,{BI:()=>g,Ti:()=>m,lA:()=>f});var r=n(70837),o=n(18679),s=n(74572),l=n(51528);let{getItem:a}=(0,s.A)("localStorage"),c="dimension_",u=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,r.O)("octolytics");delete e.baseContext,i=new o.s(e)}catch(e){}function d(e){let t=(0,r.O)("octolytics").baseContext||{};if(t)for(let[e,n]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=n,delete t[e]);let n=document.querySelector("meta[name=visitor-payload]");for(let[e,i]of(n&&Object.assign(t,JSON.parse(atob(n.content))),new URLSearchParams(window.location.search)))u.includes(e.toLowerCase())&&(t[e]=i);return t.staff=(0,l.X)().toString(),Object.assign(t,e)}function f(e){i?.sendPageView(d(e))}function g(e,t={}){let n=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,r=n?{service:n}:{};for(let[e,n]of Object.entries(t))null!=n&&(r[e]=`${n}`);i&&(d(r),i.sendEvent(e||"unknown",d(r)))}function m(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},2240:(e,t,n)=>{n.d(t,{b:()=>c,r:()=>TrustedTypesPolicyError});var i=n(97564),r=n(51528),o=n(23780),s=n(42838),l=n.n(s),a=n(51848);let TrustedTypesPolicyError=class TrustedTypesPolicyError extends Error{};let c={apply:function({policy:e,policyName:t,fallback:n,fallbackOnError:s=!1,sanitize:c,silenceErrorReporting:u=!1}){try{if((0,i.G7)("BYPASS_TRUSTED_TYPES_POLICY_RULES"))return n;(0,r.i)({incrementKey:"TRUSTED_TYPES_POLICY_CALLED",trustedTypesPolicyName:t},!1,.1);let o=e();return c&&new Promise(e=>{let n=window.performance.now(),i=l().sanitize(o,{FORBID_ATTR:[]}),r=window.performance.now();if(o.length!==i.length){let s=Error("Trusted Types policy output sanitized"),l=s.stack?.slice(0,1e3),c=o.slice(0,250);(0,a.BI)("trusted_types_policy.sanitize",{policyName:t,output:c,stack:l,outputLength:o.length,sanitizedLength:i.length,executionTime:r-n}),e(o)}}),o}catch(e){if(e instanceof TrustedTypesPolicyError||(u||(0,o.N7)(e),(0,r.i)({incrementKey:"TRUSTED_TYPES_POLICY_ERROR",trustedTypesPolicyName:t}),!s))throw e}return n}}},6440:(e,t,n)=>{n.d(t,{wA:()=>u});var i,r=n(97156),o=n(51528);function s(e){return()=>{throw TypeError(`The policy does not implement the function ${e}`)}}let l={createHTML:s("createHTML"),createScript:s("createScript"),createScriptURL:s("createScriptURL")},a=(i=globalThis).__TRUSTED_TYPE_POLICIES__??(i.__TRUSTED_TYPE_POLICIES__=new Map),c=globalThis.trustedTypes??{createPolicy:(e,t)=>({name:e,...l,...t})},u={createPolicy:(e,t)=>{if(a.has(e))return(0,o.i)({incrementKey:"TRUSTED_TYPES_POLICY_INITIALIZED_TWICE"}),a.get(e);{let n=Object.freeze(c.createPolicy(e,t));return a.set(e,n),n}}},d=!1;r.XC?.addEventListener("securitypolicyviolation",e=>{"require-trusted-types-for"!==e.violatedDirective||d||(console.warn(`Hi fellow Hubber!
    You're probably seeing a Report Only Trusted Types error near this message. This is intended behaviour, staff-only,
    does not impact application control flow, and is used solely for statistic collection. Unfortunately we
    can't gather these statistics without adding the above warnings to your console. Sorry about that!
    Feel free to drop by #prodsec-engineering if you have any additional questions about Trusted Types or CSP.`),d=!0)})}},e=>{var t=t=>e(e.s=t);e.O(0,["vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_delegated-events_dist_index_js-node_modules_github_hotkey_dist_index_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_remote-form_dist_-e6e00d","ui_packages_failbot_failbot_ts","ui_packages_form-utils_form-utils_ts-ui_packages_input-navigation-behavior_input-navigation-b-a97423","app_assets_modules_github_diffs_blob-lines_ts-app_assets_modules_github_diffs_linkable-line-n-b8c0ea"],()=>t(92682)),e.O()}]);
//# sourceMappingURL=gist-1a5df41e0797.js.map